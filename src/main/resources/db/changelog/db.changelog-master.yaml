databaseChangeLog:
- changeSet:
    id: Create entity Reports
    author: Artur Czopek
    changes:
    - createTable:
        columns:
        - column:
            autoIncrement: true
            constraints:
              primaryKey: true
              primaryKeyName: reports_pkey
            name: reportid
            type: BIGSERIAL
        - column:
            constraints:
              constraints:
                nullable: false
            name: content
            type: VARCHAR(1903247980)
        - column:
            constraints:
              constraints:
                nullable: false
            name: startdate
            type: DATE
        - column:
            constraints:
              constraints:
                nullable: false
            name: enddate
            type: DATE
        tableName: reports

- changeSet:
    id: Create entity Weights
    author: Artur Czopek
    changes:
    - createTable:
        columns:
        - column:
            autoIncrement: true
            constraints:
              primaryKey: true
              primaryKeyName: weights_pkey
            name: weightid
            type: BIGSERIAL
        - column:
            constraints:
              constraints:
                nullable: false
            name: weight
            type: DECIMAL(6,2)
        - column:
            constraints:
              constraints:
                nullable: false
            name: measurementdate
            type: DATE
        tableName: weights

- changeSet:
    id: Create entity Cycles
    author: Artur Czopek
    changes:
    - createTable:
        columns:
        - column:
            autoIncrement: true
            constraints:
              primaryKey: true
              primaryKeyName: cycles_pkey
            name: cycleid
            type: BIGSERIAL
        - column:
            constraints:
              constraints:
                nullable: false
            name: startdate
            type: DATE
        - column:
            constraints:
              constraints:
                nullable: true
            name: enddate
            type: DATE
        tableName: cycles

- changeSet:
    id: Create entity Sets
    author: Artur Czopek
    changes:
    - createTable:
        columns:
        - column:
            autoIncrement: true
            constraints:
              primaryKey: true
              primaryKeyName: sets_pkey
            name: setid
            type: BIGSERIAL
        - column:
            constraints:
              constraints:
                nullable: false
            name: setname
            type: VARCHAR(200)
        - column:
            constraints:
              constraints:
                nullable: false
            name: cycleid
            type: BIGINT
        tableName: sets

- changeSet:
    id: Create entity Training Dates
    author: Artur Czopek
    changes:
    - createTable:
        columns:
        - column:
            autoIncrement: true
            constraints:
              primaryKey: true
              primaryKeyName: trainingdates_pkey
            name: trainingdateid
            type: BIGSERIAL
        - column:
            constraints:
              constraints:
                nullable: false
            name: setid
            type: BIGINT
        - column:
            constraints:
              constraints:
                nullable: false
            name: trainingdate
            type: DATE
        tableName: trainingdates

- changeSet:
    id: Create entity Exercise
    author: Artur Czopek
    changes:
    - createTable:
        columns:
        - column:
            autoIncrement: true
            constraints:
              primaryKey: true
              primaryKeyName: exercises_pkey
            name: exerciseid
            type: BIGSERIAL
        - column:
            constraints:
              constraints:
                nullable: false
            name: setid
            type: BIGINT
        - column:
            constraints:
              constraints:
                nullable: false
            name: exercisename
            type: VARCHAR(100)
        tableName: exercises

- changeSet:
    id: Create entity Exercise Session
    author: Artur Czopek
    changes:
    - createTable:
        columns:
        - column:
            autoIncrement: true
            constraints:
              primaryKey: true
              primaryKeyName: exercisesessions_pkey
            name: exercisesessionid
            type: BIGSERIAL
        - column:
            constraints:
              constraints:
                nullable: false
            name: exerciseid
            type: BIGINT
        tableName: exercisesessions

- changeSet:
    id: Create entity Series
    author: Artur Czopek
    changes:
    - createTable:
        columns:
        - column:
            autoIncrement: true
            constraints:
              primaryKey: true
              primaryKeyName: series_pkey
            name: seriesid
            type: BIGSERIAL
        - column:
            constraints:
              constraints:
                nullable: false
            name: exercisesessionid
            type: BIGINT
        - column:
            constraints:
              constraints:
                nullable: false
            name: weight
            type: DECIMAL(6,2)
        - column:
            constraints:
              constraints:
                nullable: false
            name: repeats
            type: BIGINT
        - column:
            name: comment
            type: VARCHAR(250)
        tableName: series

- changeSet:
    id: Create entity Products
    author: Artur Czopek
    changes:
    - createTable:
        columns:
        - column:
            autoIncrement: true
            constraints:
              primaryKey: true
              primaryKeyName: products_pkey
            name: productid
            type: BIGSERIAL
        - column:
            constraints:
              constraints:
                nullable: false
            name: productname
            type: VARCHAR(200)
        - column:
            constraints:
              constraints:
                nullable: false
            name: screenurl
            type: VARCHAR(1903247980)
        tableName: products

- changeSet:
    id: Create entity Prices
    author: Artur Czopek
    changes:
    - createTable:
        columns:
        - column:
            autoIncrement: true
            constraints:
              primaryKey: true
              primaryKeyName: prices_pkey
            name: priceid
            type: BIGSERIAL
        - column:
            constraints:
              constraints:
                nullable: false
            name: productid
            type: BIGINT
        - column:
            constraints:
              constraints:
                nullable: false
            name: pricedate
            type: DATE
        - column:
            constraints:
              constraints:
                nullable: false
            name: price
            type: DECIMAL(6,2)
        - column:
            constraints:
              constraints:
                nullable: false
            name: place
            type: VARCHAR(100)
        - column:
            name: quantity
            type: DECIMAL(6,2)
        tableName: prices

- changeSet:
    id: Unique for productname
    author: Artur Czopek
    changes:
    - addUniqueConstraint:
        columnNames: productname
        constraintName: uk_products_productname
        tableName: products

- changeSet:
    id: Unique for cycleid
    author: Artur Czopek
    changes:
    - addUniqueConstraint:
        columnNames: cycleid
        constraintName: uk_cycles_cycleid
        tableName: cycles
    dbms: PostgreSQL

- changeSet:
    id: Unique for setid
    author: Artur Czopek
    changes:
    - addUniqueConstraint:
        columnNames: setid
        constraintName: uk_sets_setid
        tableName: sets
    dbms: PostgreSQL
    
- changeSet:
    id: Unique for trainingdateid
    author: Artur Czopek
    changes:
    - addUniqueConstraint:
        columnNames: trainingdateid
        constraintName: uk_trainingdates_trainingdateid
        tableName: trainingdates
    dbms: PostgreSQL
    
- changeSet:
    id: Unique for exerciseid
    author: Artur Czopek
    changes:
    - addUniqueConstraint:
        columnNames: exerciseid
        constraintName: uk_exercises_exerciseid
        tableName: exercises
    dbms: PostgreSQL

- changeSet:
    id: Unique for exercisesessionid
    author: Artur Czopek
    changes:
    - addUniqueConstraint:
        columnNames: exercisesessionid
        constraintName: uk_exercisesessions_exercisesessionid
        tableName: exercisesessions
    dbms: PostgreSQL
    
- changeSet:
    id: Unique for seriesid
    author: Artur Czopek
    changes:
    - addUniqueConstraint:
        columnNames: seriesid
        constraintName: uk_series_seriesid
        tableName: seriess
    dbms: PostgreSQL
    
- changeSet:
    id: Unique for priceid
    author: Artur Czopek
    changes:
    - addUniqueConstraint:
        columnNames: priceid
        constraintName: uk_prices_priceid
        tableName: prices
    dbms: PostgreSQL
    
- changeSet:
    id: Unique for productid
    author: Artur Czopek
    changes:
    - addUniqueConstraint:
        columnNames: productid
        constraintName: uk_products_productid
        tableName: products
    dbms: PostgreSQL

- changeSet:
    id: Unique for reportid
    author: Artur Czopek
    changes:
    - addUniqueConstraint:
        columnNames: reportid
        constraintName: uk_reports_reportid
        tableName: reports
    dbms: PostgreSQL
    
- changeSet:
    id: Unique for weightid
    author: Artur Czopek
    changes:
    - addUniqueConstraint:
        columnNames: weightid
        constraintName: uk_weights_weightid
        tableName: weights
    dbms: PostgreSQL

- changeSet:
    id: Relation Sets - Cycles
    author: Artur Czopek
    changes:
    - addForeignKeyConstraint:
        baseColumnNames: cycleid
        baseTableName: sets
        constraintName: fk_sets_cycles
        deferrable: false
        initiallyDeferred: false
        onDelete: NO ACTION
        onUpdate: NO ACTION
        referencedColumnNames: cycleid
        referencedTableName: cycles

- changeSet:
    id: Relation Training Dates - Sets
    author: Artur Czopek
    changes:
    - addForeignKeyConstraint:
        baseColumnNames: setid
        baseTableName: trainingdates
        constraintName: fk_trainingdates_sets
        deferrable: false
        initiallyDeferred: false
        onDelete: NO ACTION
        onUpdate: NO ACTION
        referencedColumnNames: setid
        referencedTableName: sets

- changeSet:
    id: Relation Exercises - Sets
    author: Artur Czopek
    changes:
    - addForeignKeyConstraint:
        baseColumnNames: setid
        baseTableName: exercises
        constraintName: fk_exercises_sets
        deferrable: false
        initiallyDeferred: false
        onDelete: NO ACTION
        onUpdate: NO ACTION
        referencedColumnNames: setid
        referencedTableName: sets

- changeSet:
    id: Relation Exercise sessions - Exercises
    author: Artur Czopek
    changes:
    - addForeignKeyConstraint:
        baseColumnNames: exerciseid
        baseTableName: exercisesessions
        constraintName: fk_exercisesessions_exercises
        deferrable: false
        initiallyDeferred: false
        onDelete: NO ACTION
        onUpdate: NO ACTION
        referencedColumnNames: exerciseid
        referencedTableName: exercises

- changeSet:
    id: Relation Series - Exercise sessions
    author: Artur Czopek
    changes:
    - addForeignKeyConstraint:
        baseColumnNames: exercisesessionid
        baseTableName: series
        constraintName: fk_series_exercisesessions
        deferrable: false
        initiallyDeferred: false
        onDelete: NO ACTION
        onUpdate: NO ACTION
        referencedColumnNames: exercisesessionid
        referencedTableName: exercisesessions

- changeSet:
    id: Relation Prices - Products
    author: Artur Czopek
    changes:
    - addForeignKeyConstraint:
        baseColumnNames: productid
        baseTableName: prices
        constraintName: fk_prices_productss
        deferrable: false
        initiallyDeferred: false
        onDelete: NO ACTION
        onUpdate: NO ACTION
        referencedColumnNames: productid
        referencedTableName: products

- changeSet:
    id: Default value product photo
    author: Artur Czopek
    changes:
    - addDefaultValue:
        coulmnDataType: VARCHAR(200)
        columnName: screenUrl
        defaultValue: NO_PRODUCT_PHOTO.JPG
        tableName: Products
